# 《你不知道的JavaScript》 学习笔记

2022.8.23

## 第一章 作用域

### 1.1LHS/RHS

LHS和RHS分别表示赋值操作的左侧和右侧，赋值操作不仅是`=`，比如函数传参也是赋值操作，赋值操作可以理解
为"赋值操作的目标是谁（LHS）"以及"谁是赋值操作的源头（RHS）"。

`console.log(a)`, `a`的引用是RHS，因为没有对`a`的赋值操作，而是需要查找`a`的值传递给`console.log()`。

`a = 2`则是LHS引用，因为我们并不关心当前的值，而是需要为 =2 这个操作找到目标。

### 1.2作用域嵌套

不论是哪种查询，引擎都会从当前执行的作用域开始查找，若没找到则向外遍历直到全局作用域，无论是否找到，
查找过程都会停止。

### 1.3异常

执行LHS查询时无法查询到变量时，非严格模式下会在全局作用域下创建变量，执行RHS查询失败时，会抛出ReferenceError,
对变量对值进行不合理操作，比如对非函数类型的值进行函数调用，会抛出TypeError。

## 第二章 词法作用域

### 2.1词法阶段

定义在词法阶段的作用域是词法作用域，是由书写代码时变量和块作用域在哪决定的，大部分情况下词法分析器处理
代码时会保持作用域不变（大部分情况，严格模式另说）

### 2.2欺骗词法

`eval()`能够接收字符串并生成对应代码。
`with`根据传递的对象凭空创建一个全新的词法作用域。

### 2.3小结

两种修改词法作用域的方式都不推荐使用，一是容易降低代码的可读性，二是影响js引擎性能，因为引擎不能
在编译时对作用域查找进行优化。

## 第三章 函数作用域和块作用域

